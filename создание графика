import ccxt
import matplotlib.pyplot as plt

# Подключаемся к бирже Binance
exchange = ccxt.binance()

# Получаем исторические данные по паре BTC/USDT
ohlcv = exchange.fetch_ohlcv('BTC/USDT', '1h')  # 1 час

# Извлекаем время, цену закрытия
times = [x[0] for x in ohlcv]
prices = [x[4] for x in ohlcv]  # Цена закрытия

# Строим график
plt.plot(times, prices)
plt.title("BTC/USDT Price")
plt.xlabel("Time")
plt.ylabel("Price (USDT)")
plt.show()
